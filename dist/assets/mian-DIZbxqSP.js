(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{function d(t,e){return`chip--${t}--${e}`.replace(/\s+/g,"-").toLowerCase()}function a(t,e=document){return e.querySelector(t)}function s(t,e=document){return Array.from(e.querySelectorAll(t))}const o=a("#selected-chips"),n=a("#productsContainer"),p=a("#resultsCount"),h=a("#sortSelect"),f=a("#btnList"),v=a("#btnGrid");n||console.warn("productsContainer not found (#productsContainer)"),o||console.warn("selected-chips container not found (#selected-chips)");const g=[{id:1,title:"T-Shirt Red S",price:29,color:"Red",size:"S",material:"Cotton",image:"/rename/1.png"},{id:2,title:"T-Shirt Blue M",price:35,color:"Blue",size:"M",material:"Cotton",image:"/rename/2.png"},{id:3,title:"Leather Jacket L",price:199,color:"Black",size:"L",material:"Leather",image:"/rename/3.png"},{id:4,title:"Wool Sweater M",price:89,color:"Black",size:"M",material:"Wool",image:"/rename/4.png"},{id:5,title:"Casual Shirt L",price:45,color:"Blue",size:"L",material:"Cotton",image:"/rename/5.png"},{id:6,title:"Denim Jacket M",price:120,color:"Blue",size:"M",material:"Cotton",image:"/rename/6.png"},{id:7,title:"Trousers L",price:75,color:"Black",size:"L",material:"Polyester",image:"/rename/7.png"},{id:8,title:"Shirt S",price:40,color:"Red",size:"S",material:"Cotton",image:"/rename/8.png"},{id:9,title:"Coat L",price:210,color:"Black",size:"L",material:"Leather",image:"/rename/9.png"},{id:10,title:"Hoodie M",price:60,color:"Blue",size:"M",material:"Cotton",image:"/rename/10.png"},{id:11,title:"Shorts S",price:25,color:"Red",size:"S",material:"Polyester",image:"/rename/11.png"},{id:12,title:"Sweatpants M",price:55,color:"Black",size:"M",material:"Cotton",image:"/rename/12.png"}];function m(){s(".dropdown").forEach(t=>{const e=a(".dropdown-button",t),i=a(".dropdown-list",t);e&&(e.addEventListener("click",c=>{c.stopPropagation();const r=t.classList.toggle("open");e.setAttribute("aria-expanded",String(r)),r&&L(t)}),document.addEventListener("click",c=>{t.contains(c.target)||(t.classList.remove("open"),e&&e.setAttribute("aria-expanded","false"))}),e.addEventListener("keydown",c=>{c.key==="Enter"||c.key===" "?(c.preventDefault(),e.click()):c.key==="Escape"&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}),i&&i.addEventListener("keydown",c=>{c.key==="Escape"&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}))})}function L(t){s(".dropdown.open").forEach(e=>{if(e!==t){e.classList.remove("open");const i=a(".dropdown-button",e);i&&i.setAttribute("aria-expanded","false")}})}function w(t,e,i){if(!o)return;const c=d(t,e);if(a("#"+c))return;const r=document.createElement("div");r.className="chip",r.id=c;const u=document.createElement("span");u.className="label",u.textContent=`${t}: ${e}`;const y=document.createElement("button");y.className="remove",y.type="button",y.title="Удалить фильтр",y.innerHTML="✕",y.addEventListener("click",()=>{r.classList.add("removing"),i&&(i.checked=!1),setTimeout(()=>r.remove(),180),setTimeout(b,190)}),r.appendChild(u),r.appendChild(y),o.appendChild(r)}function M(t){const e=a("#"+t);e&&(e.classList.add("removing"),setTimeout(()=>e.remove(),180))}o&&o.addEventListener("click",t=>{const e=t.target.closest(".chip");if(!e)return;const i=e.id.split("--");if(i.length>=3){const c=i[1],r=document.querySelector(`.dropdown[data-group="${_(c)}"]`);if(r){const u=a(".dropdown-button",r);u&&(L(r),r.classList.add("open"),u.setAttribute("aria-expanded","true"),u.focus())}}});function _(t){return t&&t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function S(){s(".filter").forEach(t=>{if(!t.dataset.group){const e=t.closest(".dropdown");e&&e.dataset.group&&(t.dataset.group=e.dataset.group)}t.dataset.value||(t.dataset.value=t.value||t.getAttribute("value")||t.nextSibling?.textContent?.trim()),t.addEventListener("change",e=>{const i=e.target,c=i.dataset.value,r=i.dataset.group||"Filter",u=d(r,c);i.checked?w(r,c,i):M(u),b()})})}function A(){const t={};s(".filter:checked").forEach(e=>{const i=e.dataset.group||e.getAttribute("data-group")||"Filter";t[i]||(t[i]=new Set),t[i].add(e.dataset.value||e.value)});for(const e in t)t[e]=Array.from(t[e]);return t}function B(t,e){if(!e||e.length===0)return!0;for(const i of e)if(i.includes("+")){const c=Number(i.replace("+",""));if(t.price>=c)return!0}else{const[c,r]=i.split("-").map(Number);if(!isNaN(c)&&!isNaN(r)&&t.price>=c&&t.price<=r)return!0}return!1}function I(t,e){return t.filter(i=>!(e.Size&&e.Size.length&&!e.Size.includes(i.size)||e.Color&&e.Color.length&&!e.Color.includes(i.color)||e.Material&&e.Material.length&&!e.Material.includes(i.material)||e.Price&&e.Price.length&&!B(i,e.Price)))}function z(t,e){if(!e||e==="default")return t;const i=[...t];return e==="price-asc"?i.sort((c,r)=>c.price-r.price):e==="price-desc"&&i.sort((c,r)=>r.price-c.price),i}function b(){if(!n)return;const t=A();let e=I(g,t);const i=h?h.value:"default";e=z(e,i),p&&(p.textContent=`Результаты: ${e.length}`),n.innerHTML="";const c=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--cols"))||1;e.forEach(r=>{const u=document.createElement("div");u.className="product",c>1&&u.classList.add("product--grid");const y=document.createElement("div");if(y.className="product__img",r.image){const E=document.createElement("img");E.src=r.image,E.alt=r.title,E.style.width="100%",E.style.height="100%",E.style.objectFit="cover",y.appendChild(E)}const x=document.createElement("div");x.className="product__info",x.innerHTML=`
        <div class="product__title">${C(r.title)}</div>
        <div class="product__meta">${C(r.color)} · ${C(r.size)} · ${C(r.material)}</div>
        <div class="product__price">$${r.price}</div>
      `,u.appendChild(y),u.appendChild(x),n.appendChild(u)})}function C(t){return String(t).replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}function k(t){if(t==="list")document.documentElement.style.setProperty("--cols",1),f&&f.classList.add("active"),v&&v.classList.remove("active");else{let e=3;const i=window.innerWidth;i<600?e=1:i<960?e=2:e=3,document.documentElement.style.setProperty("--cols",e),v&&v.classList.add("active"),f&&f.classList.remove("active")}b()}f&&v&&(f.addEventListener("click",()=>k("list")),v.addEventListener("click",()=>k("grid"))),window.addEventListener("resize",()=>{if(!v||!v.classList.contains("active"))return;let t=3;const e=window.innerWidth;e<600?t=1:e<960?t=2:t=3,document.documentElement.style.setProperty("--cols",t),b()}),m(),S(),s(".filter:checked").forEach(t=>{w(t.dataset.group||"Filter",t.dataset.value||t.value,t)}),k("grid"),b(),document.addEventListener("keydown",t=>{t.key==="Escape"&&s(".dropdown.open").forEach(e=>{e.classList.remove("open");const i=a(".dropdown-button",e);i&&i.setAttribute("aria-expanded","false")})})});document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".header__burger"),d=document.getElementById("header-menu"),a=document.getElementById("header-menu-close"),s=document.getElementById("header-menu-overlay");function o(){d.classList.add("header__menu--active"),s.classList.add("header__menu-overlay--active"),document.body.style.overflow="hidden"}function n(){d.classList.remove("header__menu--active"),s.classList.remove("header__menu-overlay--active"),document.body.style.overflow=""}l.addEventListener("click",o),a.addEventListener("click",n),s.addEventListener("click",n)});new Swiper(".mySwiper",{spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});(function(){const l=document.getElementById("pp-track"),d=Array.from(l.children),a=document.querySelector(".pp-dots"),s=document.querySelector(".pp-prev"),o=document.querySelector(".pp-next");let n=0;d.forEach((g,m)=>{const L=document.createElement("button");L.className="dot"+(m===0?" is-active":""),L.setAttribute("aria-label","Slide "+(m+1)),L.addEventListener("click",()=>h(m)),a.appendChild(L)});const p=Array.from(a.children);function h(g){n=Math.max(0,Math.min(d.length-1,g)),d[n].scrollIntoView({behavior:"smooth",inline:"center"}),f()}function f(){p.forEach(g=>g.classList.remove("is-active")),p[n]?.classList.add("is-active")}s.addEventListener("click",()=>h(n-1)),o.addEventListener("click",()=>h(n+1));function v(){const g=l.scrollLeft+l.clientWidth/2;let m=0,L=1/0;d.forEach((w,M)=>{const _=w.offsetLeft+w.clientWidth/2,S=Math.abs(_-g);S<L&&(L=S,m=M)}),m!==n&&(n=m,f())}l.addEventListener("scroll",()=>{clearTimeout(l._t),l._t=setTimeout(v,80)}),window.addEventListener("resize",v),d.forEach((g,m)=>{g.style.cursor="pointer",g.addEventListener("click",()=>{h(m===n?Math.min(d.length-1,m+1):m)})}),d[0].scrollIntoView({behavior:"auto",inline:"center"}),n=0,f()})();document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".header__burger"),d=document.getElementById("header-menu"),a=document.getElementById("header-menu-close"),s=document.getElementById("header-menu-overlay");function o(){d.classList.add("header__menu--active"),s.classList.add("header__menu-overlay--active"),document.body.style.overflow="hidden"}function n(){d.classList.remove("header__menu--active"),s.classList.remove("header__menu-overlay--active"),document.body.style.overflow=""}l.addEventListener("click",o),a.addEventListener("click",n),s.addEventListener("click",n)});document.addEventListener("DOMContentLoaded",()=>{const l=Array.from(document.querySelectorAll(".pp-slide")),d=document.querySelector(".pp-prev"),a=document.querySelector(".pp-next");function s(p){l.forEach((h,f)=>{h.style.display=p.includes(f)?"":"none"})}function o(){return window.innerWidth<=600?[0]:window.innerWidth<=1e3?[0,1]:[0,1,2]}let n=o();s(n),window.addEventListener("resize",()=>{n=o(),s(n)}),d.addEventListener("click",()=>{window.innerWidth>1e3||(window.innerWidth<=600?n[0]>0&&(n=[n[0]-1],s(n)):n[0]>0&&(n=[n[0]-1,n[0]],s(n)))}),a.addEventListener("click",()=>{window.innerWidth>1e3||(window.innerWidth<=600?n[0]<l.length-1&&(n=[n[0]+1],s(n)):n[1]<l.length-1&&(n=[n[1],n[1]+1],s(n)))})});
