(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{function n(t,e){return`chip--${t}--${e}`.replace(/\s+/g,"-").toLowerCase()}function r(t,e=document){return e.querySelector(t)}function c(t,e=document){return Array.from(e.querySelectorAll(t))}const o=r("#selected-chips"),i=r("#productsContainer"),h=r("#resultsCount"),f=r("#sortSelect"),p=r("#btnList"),y=r("#btnGrid");i||console.warn("productsContainer not found (#productsContainer)"),o||console.warn("selected-chips container not found (#selected-chips)");const u=[{id:1,title:"T-Shirt Red S",price:29,color:"Red",size:"S",material:"Cotton",description:"Wool is stain resistant. This wear-resistant material perfectly retains heat. You can wrap yourself up comfortably lying on the couch.",image:"/rename/1.png"},{id:2,title:"T-Shirt Blue M",price:35,color:"Blue",size:"M",material:"Cotton",description:"Soft, pleasant to the touch chenille fabric. Polyester is used in the composition of the fabric, along with other materials.",image:"/rename/2.png"},{id:3,title:"Leather Jacket L",price:199,color:"Black",size:"L",material:"Leather",description:"An acrylic blanket is just as soft, warm and cozy as a wool blanket. At the same time, it is very easy to care for.",image:"/rename/3.png"},{id:4,title:"Wool Sweater M",price:89,color:"Black",size:"M",material:"Wool",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/4.png"},{id:5,title:"Casual Shirt L",price:45,color:"Blue",size:"L",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/5.png"},{id:6,title:"Denim Jacket M",price:120,color:"Blue",size:"M",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/6.png"},{id:7,title:"Trousers L",price:75,color:"Black",size:"L",material:"Polyester",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/7.png"},{id:8,title:"Shirt S",price:40,color:"Red",size:"S",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/8.png"},{id:9,title:"Coat L",price:210,color:"Black",size:"L",material:"Leather",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/9.png"},{id:10,title:"Hoodie M",price:60,color:"Blue",size:"M",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/10.png"},{id:11,title:"Shorts S",price:25,color:"Red",size:"S",material:"Polyester",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/11.png"},{id:12,title:"Sweatpants M",price:55,color:"Black",size:"M",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/12.png"}];function m(){c(".dropdown").forEach(t=>{const e=r(".dropdown-button",t),s=r(".dropdown-list",t);e&&(e.addEventListener("click",d=>{d.stopPropagation();const a=t.classList.toggle("open");e.setAttribute("aria-expanded",String(a)),a&&g(t)}),document.addEventListener("click",d=>{t.contains(d.target)||(t.classList.remove("open"),e&&e.setAttribute("aria-expanded","false"))}),e.addEventListener("keydown",d=>{d.key==="Enter"||d.key===" "?(d.preventDefault(),e.click()):d.key==="Escape"&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}),s&&s.addEventListener("keydown",d=>{d.key==="Escape"&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}))})}function g(t){c(".dropdown.open").forEach(e=>{if(e!==t){e.classList.remove("open");const s=r(".dropdown-button",e);s&&s.setAttribute("aria-expanded","false")}})}function L(t,e,s){if(!o)return;const d=n(t,e);if(r("#"+d))return;const a=document.createElement("div");a.className="chip",a.id=d;const v=document.createElement("span");v.className="label",v.textContent=`${t}: ${e}`;const w=document.createElement("button");w.className="remove",w.type="button",w.title="Удалить фильтр",w.innerHTML="✕",w.addEventListener("click",()=>{a.classList.add("removing"),s&&(s.checked=!1),setTimeout(()=>a.remove(),180),setTimeout(S,190)}),a.appendChild(v),a.appendChild(w),o.appendChild(a)}function E(t){const e=r("#"+t);e&&(e.classList.add("removing"),setTimeout(()=>e.remove(),180))}o&&o.addEventListener("click",t=>{const e=t.target.closest(".chip");if(!e)return;const s=e.id.split("--");if(s.length>=3){const d=s[1],a=document.querySelector(`.dropdown[data-group="${A(d)}"]`);if(a){const v=r(".dropdown-button",a);v&&(g(a),a.classList.add("open"),v.setAttribute("aria-expanded","true"),v.focus())}}});function A(t){return t&&t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function C(){c(".filter").forEach(t=>{if(!t.dataset.group){const e=t.closest(".dropdown");e&&e.dataset.group&&(t.dataset.group=e.dataset.group)}t.dataset.value||(t.dataset.value=t.value||t.getAttribute("value")||t.nextSibling?.textContent?.trim()),t.addEventListener("change",e=>{const s=e.target,d=s.dataset.value,a=s.dataset.group||"Filter",v=n(a,d);s.checked?L(a,d,s):E(v),S()})})}function x(){const t={};c(".filter:checked").forEach(e=>{const s=e.dataset.group||e.getAttribute("data-group")||"Filter";t[s]||(t[s]=new Set),t[s].add(e.dataset.value||e.value)});for(const e in t)t[e]=Array.from(t[e]);return t}function q(t,e){if(!e||e.length===0)return!0;for(const s of e)if(s.includes("+")){const d=Number(s.replace("+",""));if(t.price>=d)return!0}else{const[d,a]=s.split("-").map(Number);if(!isNaN(d)&&!isNaN(a)&&t.price>=d&&t.price<=a)return!0}return!1}function z(t,e){return t.filter(s=>!(e.Size&&e.Size.length&&!e.Size.includes(s.size)||e.Color&&e.Color.length&&!e.Color.includes(s.color)||e.Material&&e.Material.length&&!e.Material.includes(s.material)||e.Price&&e.Price.length&&!q(s,e.Price)))}function N(t,e){if(!e||e==="default")return t;const s=[...t];return e==="price-asc"?s.sort((d,a)=>d.price-a.price):e==="price-desc"&&s.sort((d,a)=>a.price-d.price),s}function S(){if(!i)return;const t=x();let e=z(u,t);const s=f?f.value:"default";e=N(e,s),h&&(h.textContent=`Результаты: ${e.length}`),i.innerHTML="";const d=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--cols"))||1;e.forEach(a=>{const v=document.createElement("div");v.className="product",d>1?v.classList.add("product--grid"):v.classList.add("product--list");const w=document.createElement("div");if(w.className="product__img",a.image){const b=document.createElement("img");b.src=a.image,b.alt=a.title,b.style.width="100%",b.style.height="100%",b.style.objectFit="contain",w.appendChild(b)}const M=document.createElement("div");M.className="product__info",M.innerHTML=`
        <div class="product__title">${_(a.title)}
          <div class="product__price">$
            ${a.price}
          </div>
        </div>
         <div class="product__desc">
            ${_(a.description||"")}
         </div>
        <div class="product__meta">
            ${_(a.color)} · ${_(a.size)} · ${_(a.material)}
        </div>
        
        <div class="product__actions">
           <button class="product__btn">Add to Cart</button>
         </div>

      `;function P(){if(i&&i.classList.contains("list-view"))return!1;if(y&&y.classList.contains("active"))return!0;if(p&&p.classList.contains("active"))return!1;const b=localStorage.getItem("preferredView");return b==="grid"?!0:b==="list"?!1:d>1}const I=M.querySelector(".product__btn");I&&(P()?I.style.display="none":I.style.display=""),v.appendChild(w),v.appendChild(M),i.appendChild(v)})}function _(t){return String(t).replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}function k(t){if(t==="list")document.documentElement.style.setProperty("--cols",1),p&&p.classList.add("active"),y&&y.classList.remove("active");else{let e=3;const s=window.innerWidth;s<600?e=1:s<960?e=2:e=3,document.documentElement.style.setProperty("--cols",e),y&&y.classList.add("active"),p&&p.classList.remove("active")}S()}p&&y&&(p.addEventListener("click",()=>k("list")),y.addEventListener("click",()=>k("grid"))),window.addEventListener("resize",()=>{if(!y||!y.classList.contains("active"))return;let t=3;const e=window.innerWidth;e<600?t=1:e<960?t=2:t=3,document.documentElement.style.setProperty("--cols",t),S()}),m(),C(),c(".filter:checked").forEach(t=>{L(t.dataset.group||"Filter",t.dataset.value||t.value,t)}),k("grid"),S(),document.addEventListener("keydown",t=>{t.key==="Escape"&&c(".dropdown.open").forEach(e=>{e.classList.remove("open");const s=r(".dropdown-button",e);s&&s.setAttribute("aria-expanded","false")})})});document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".header__burger"),n=document.getElementById("header-menu"),r=document.getElementById("header-menu-close"),c=document.getElementById("header-menu-overlay");function o(){n.classList.add("header__menu--active"),c.classList.add("header__menu-overlay--active"),document.body.style.overflow="hidden"}function i(){n.classList.remove("header__menu--active"),c.classList.remove("header__menu-overlay--active"),document.body.style.overflow=""}l.addEventListener("click",o),r.addEventListener("click",i),c.addEventListener("click",i)});(function(){const l=document.getElementById("productsContainer")||document.querySelector(".products__list");if(!l)return;let n=document.getElementById("btnGrid"),r=document.getElementById("btnList");window.btnGrid||(window.btnGrid=n),window.btnList||(window.btnList=r);function c(u){n&&n.classList.toggle("active",u==="grid"),n&&n.setAttribute("aria-pressed",u==="grid"?"true":"false"),r&&r.classList.toggle("active",u==="list"),r&&r.setAttribute("aria-pressed",u==="list"?"true":"false")}function o(u){u?l.classList.add("list-view"):l.classList.remove("list-view")}function i(u){typeof setLayout=="function"&&setLayout("list"),o(!0),c("list"),localStorage.setItem("preferredView","list")}function h(u){typeof setLayout=="function"&&setLayout("grid"),o(!1),c("grid"),localStorage.setItem("preferredView","grid")}r&&r.addEventListener("click",i),n&&n.addEventListener("click",h),(function(){const m=localStorage.getItem("preferredView");m==="list"?(o(!0),c("list")):m==="grid"?(o(!1),c("grid")):r&&r.classList.contains("active")?(o(!0),c("list")):(n&&n.classList.contains("active"),o(!1),c("grid"))})();const f={attributes:!0,attributeFilter:["class","aria-pressed"]},p=u=>{u.forEach(m=>{const g=m.target;g===r&&r.classList.contains("active")&&(o(!0),localStorage.setItem("preferredView","list")),g===n&&n.classList.contains("active")&&(o(!1),localStorage.setItem("preferredView","grid"))})},y=new MutationObserver(p);r&&y.observe(r,f),n&&y.observe(n,f)})();(function(){const l=document.getElementById("productsContainer")||document.querySelector(".products__list");if(!l)return;function n(f){return!f&&f!==""?"":String(f).replace(/\u00A0/g," ").replace(/\s+/g," ").trim()}function r(f){const p=document.createElement("textarea");return p.innerHTML=f,p.value}function c(){Array.from(l.querySelectorAll(".product")).forEach((f,p)=>{if(f.querySelector(".product__desc"))return;const y=f.querySelector(".product__title");let u="";if(y){const m=n(r(y.textContent||y.innerText||"")),g=products.find(L=>n(String(L.title))===m||n(r(String(L.title||"")))===m);g&&g.description&&(u=g.description)}if(!u&&products[p]&&products[p].description&&(u=products[p].description),u){const m=f.querySelector(".product__info")||f,g=document.createElement("div");g.className="product__desc",g.textContent=u;const L=m.querySelector(".product__bottom"),E=m.querySelector(".product__price");L?m.insertBefore(g,L):E?m.insertBefore(g,E.nextSibling):m.appendChild(g)}}),o()}function o(){const f=l.classList.contains("list-view");l.querySelectorAll(".product__desc").forEach(p=>{p.style.display=f?"":"none"})}setTimeout(c,20),new MutationObserver(f=>{let p=!1;for(const y of f)if(y.addedNodes&&y.addedNodes.length){p=!0;break}p&&setTimeout(c,10)}).observe(l,{childList:!0}),new MutationObserver(o).observe(l,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("load",o)})();new Swiper(".mySwiper",{spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});(function(){const l=document.getElementById("pp-track"),n=Array.from(l.children),r=document.querySelector(".pp-dots"),c=document.querySelector(".pp-prev"),o=document.querySelector(".pp-next");let i=0;n.forEach((u,m)=>{const g=document.createElement("button");g.className="dot"+(m===0?" is-active":""),g.setAttribute("aria-label","Slide "+(m+1)),g.addEventListener("click",()=>f(m)),r.appendChild(g)});const h=Array.from(r.children);function f(u){i=Math.max(0,Math.min(n.length-1,u)),n[i].scrollIntoView({behavior:"smooth",inline:"center"}),p()}function p(){h.forEach(u=>u.classList.remove("is-active")),h[i]?.classList.add("is-active")}c.addEventListener("click",()=>f(i-1)),o.addEventListener("click",()=>f(i+1));function y(){const u=l.scrollLeft+l.clientWidth/2;let m=0,g=1/0;n.forEach((L,E)=>{const A=L.offsetLeft+L.clientWidth/2,C=Math.abs(A-u);C<g&&(g=C,m=E)}),m!==i&&(i=m,p())}l.addEventListener("scroll",()=>{clearTimeout(l._t),l._t=setTimeout(y,80)}),window.addEventListener("resize",y),n.forEach((u,m)=>{u.style.cursor="pointer",u.addEventListener("click",()=>{f(m===i?Math.min(n.length-1,m+1):m)})}),n[0].scrollIntoView({behavior:"auto",inline:"center"}),i=0,p()})();document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".header__burger"),n=document.getElementById("header-menu"),r=document.getElementById("header-menu-close"),c=document.getElementById("header-menu-overlay");function o(){n.classList.add("header__menu--active"),c.classList.add("header__menu-overlay--active"),document.body.style.overflow="hidden"}function i(){n.classList.remove("header__menu--active"),c.classList.remove("header__menu-overlay--active"),document.body.style.overflow=""}l.addEventListener("click",o),r.addEventListener("click",i),c.addEventListener("click",i)});document.addEventListener("DOMContentLoaded",()=>{const l=Array.from(document.querySelectorAll(".pp-slide")),n=document.querySelector(".pp-prev"),r=document.querySelector(".pp-next");function c(h){l.forEach((f,p)=>{f.style.display=h.includes(p)?"":"none"})}function o(){return window.innerWidth<=600?[0]:window.innerWidth<=1e3?[0,1]:[0,1,2]}let i=o();c(i),window.addEventListener("resize",()=>{i=o(),c(i)}),n.addEventListener("click",()=>{window.innerWidth>1e3||(window.innerWidth<=600?i[0]>0&&(i=[i[0]-1],c(i)):i[0]>0&&(i=[i[0]-1,i[0]],c(i)))}),r.addEventListener("click",()=>{window.innerWidth>1e3||(window.innerWidth<=600?i[0]<l.length-1&&(i=[i[0]+1],c(i)):i[1]<l.length-1&&(i=[i[1],i[1]+1],c(i)))})});const B=document.querySelectorAll(".view-btn");B.forEach(l=>{l.addEventListener("click",()=>{B.forEach(n=>n.classList.remove("active")),l.classList.add("active")})});
