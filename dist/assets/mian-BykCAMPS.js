(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const v of i.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{function s(t,e){return`chip--${t}--${e}`.replace(/\s+/g,"-").toLowerCase()}function o(t,e=document){return e.querySelector(t)}function c(t,e=document){return Array.from(e.querySelectorAll(t))}const n=o("#selected-chips"),i=o("#productsContainer"),v=o("#resultsCount"),u=o("#sortSelect"),f=o("#btnList"),y=o("#btnGrid");i||console.warn("productsContainer not found (#productsContainer)"),n||console.warn("selected-chips container not found (#selected-chips)");const d=[{id:1,title:"T-Shirt Red S",price:29,color:"Red",size:"S",material:"Cotton",description:"Wool is stain resistant. This wear-resistant material perfectly retains heat. You can wrap yourself up comfortably lying on the couch.",image:"/rename/1.png"},{id:2,title:"T-Shirt Blue M",price:35,color:"Blue",size:"M",material:"Cotton",description:"Soft, pleasant to the touch chenille fabric. Polyester is used in the composition of the fabric, along with other materials.",image:"/rename/2.png"},{id:3,title:"Leather Jacket L",price:199,color:"Black",size:"L",material:"Leather",description:"An acrylic blanket is just as soft, warm and cozy as a wool blanket. At the same time, it is very easy to care for.",image:"/rename/3.png"},{id:4,title:"Wool Sweater M",price:89,color:"Black",size:"M",material:"Wool",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/4.png"},{id:5,title:"Casual Shirt L",price:45,color:"Blue",size:"L",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/5.png"},{id:6,title:"Denim Jacket M",price:120,color:"Blue",size:"M",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/6.png"},{id:7,title:"Trousers L",price:75,color:"Black",size:"L",material:"Polyester",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/7.png"},{id:8,title:"Shirt S",price:40,color:"Red",size:"S",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/8.png"},{id:9,title:"Coat L",price:210,color:"Black",size:"L",material:"Leather",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/9.png"},{id:10,title:"Hoodie M",price:60,color:"Blue",size:"M",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/10.png"},{id:11,title:"Shorts S",price:25,color:"Red",size:"S",material:"Polyester",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/11.png"},{id:12,title:"Sweatpants M",price:55,color:"Black",size:"M",material:"Cotton",description:"You can wrap yourself up comfortably lying on the couch or throw it over yourself when its cool.",image:"/rename/12.png"}];function m(){c(".dropdown").forEach(t=>{const e=o(".dropdown-button",t),r=o(".dropdown-list",t);e&&(e.addEventListener("click",l=>{l.stopPropagation();const a=t.classList.toggle("open");e.setAttribute("aria-expanded",String(a)),a&&g(t)}),document.addEventListener("click",l=>{t.contains(l.target)||(t.classList.remove("open"),e&&e.setAttribute("aria-expanded","false"))}),e.addEventListener("keydown",l=>{l.key==="Enter"||l.key===" "?(l.preventDefault(),e.click()):l.key==="Escape"&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}),r&&r.addEventListener("keydown",l=>{l.key==="Escape"&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.focus())}))})}function g(t){c(".dropdown.open").forEach(e=>{if(e!==t){e.classList.remove("open");const r=o(".dropdown-button",e);r&&r.setAttribute("aria-expanded","false")}})}function w(t,e,r){if(!n)return;const l=s(t,e);if(o("#"+l))return;const a=document.createElement("div");a.className="chip",a.id=l;const h=document.createElement("span");h.className="label",h.textContent=`${t}: ${e}`;const L=document.createElement("button");L.className="remove",L.type="button",L.title="Удалить фильтр",L.innerHTML="✕",L.addEventListener("click",()=>{a.classList.add("removing"),r&&(r.checked=!1),setTimeout(()=>a.remove(),180),setTimeout(S,190)}),a.appendChild(h),a.appendChild(L),n.appendChild(a)}function E(t){const e=o("#"+t);e&&(e.classList.add("removing"),setTimeout(()=>e.remove(),180))}n&&n.addEventListener("click",t=>{const e=t.target.closest(".chip");if(!e)return;const r=e.id.split("--");if(r.length>=3){const l=r[1],a=document.querySelector(`.dropdown[data-group="${A(l)}"]`);if(a){const h=o(".dropdown-button",a);h&&(g(a),a.classList.add("open"),h.setAttribute("aria-expanded","true"),h.focus())}}});function A(t){return t&&t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function C(){c(".filter").forEach(t=>{if(!t.dataset.group){const e=t.closest(".dropdown");e&&e.dataset.group&&(t.dataset.group=e.dataset.group)}t.dataset.value||(t.dataset.value=t.value||t.getAttribute("value")||t.nextSibling?.textContent?.trim()),t.addEventListener("change",e=>{const r=e.target,l=r.dataset.value,a=r.dataset.group||"Filter",h=s(a,l);r.checked?w(a,l,r):E(h),S()})})}function B(){const t={};c(".filter:checked").forEach(e=>{const r=e.dataset.group||e.getAttribute("data-group")||"Filter";t[r]||(t[r]=new Set),t[r].add(e.dataset.value||e.value)});for(const e in t)t[e]=Array.from(t[e]);return t}function x(t,e){if(!e||e.length===0)return!0;for(const r of e)if(r.includes("+")){const l=Number(r.replace("+",""));if(t.price>=l)return!0}else{const[l,a]=r.split("-").map(Number);if(!isNaN(l)&&!isNaN(a)&&t.price>=l&&t.price<=a)return!0}return!1}function q(t,e){return t.filter(r=>!(e.Size&&e.Size.length&&!e.Size.includes(r.size)||e.Color&&e.Color.length&&!e.Color.includes(r.color)||e.Material&&e.Material.length&&!e.Material.includes(r.material)||e.Price&&e.Price.length&&!x(r,e.Price)))}function z(t,e){if(!e||e==="default")return t;const r=[...t];return e==="price-asc"?r.sort((l,a)=>l.price-a.price):e==="price-desc"&&r.sort((l,a)=>a.price-l.price),r}function S(){if(!i)return;const t=B();let e=q(d,t);const r=u?u.value:"default";e=z(e,r),v&&(v.textContent=`Результаты: ${e.length}`),i.innerHTML="";const l=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--cols"))||1;e.forEach(a=>{const h=document.createElement("div");h.className="product",l>1?h.classList.add("product--grid"):h.classList.add("product--list");const L=document.createElement("div");if(L.className="product__img",a.image){const b=document.createElement("img");b.src=a.image,b.alt=a.title,b.style.width="100%",b.style.height="100%",b.style.objectFit="contain",L.appendChild(b)}const M=document.createElement("div");M.className="product__info",M.innerHTML=`
        <div class="product__title">${_(a.title)}
          <div class="product__price">$
            ${a.price}
          </div>
        </div>
         <div class="product__desc">
            ${_(a.description||"")}
         </div>
        <div class="product__meta">
            ${_(a.color)} · ${_(a.size)} · ${_(a.material)}
        </div>
        
        <div class="product__actions">
           <button class="product__btn">Add to Cart</button>
         </div>

      `;function N(){if(i&&i.classList.contains("list-view"))return!1;if(y&&y.classList.contains("active"))return!0;if(f&&f.classList.contains("active"))return!1;const b=localStorage.getItem("preferredView");return b==="grid"?!0:b==="list"?!1:l>1}const k=M.querySelector(".product__btn");k&&(N()?k.style.display="none":k.style.display=""),h.appendChild(L),h.appendChild(M),i.appendChild(h)})}function _(t){return String(t).replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}function I(t){if(t==="list")document.documentElement.style.setProperty("--cols",1),f&&f.classList.add("active"),y&&y.classList.remove("active");else{let e=3;const r=window.innerWidth;r<600?e=1:r<960?e=2:e=3,document.documentElement.style.setProperty("--cols",e),y&&y.classList.add("active"),f&&f.classList.remove("active")}S()}f&&y&&(f.addEventListener("click",()=>I("list")),y.addEventListener("click",()=>I("grid"))),window.addEventListener("resize",()=>{if(!y||!y.classList.contains("active"))return;let t=3;const e=window.innerWidth;e<600?t=1:e<960?t=2:t=3,document.documentElement.style.setProperty("--cols",t),S()}),m(),C(),c(".filter:checked").forEach(t=>{w(t.dataset.group||"Filter",t.dataset.value||t.value,t)}),I("grid"),S(),document.addEventListener("keydown",t=>{t.key==="Escape"&&c(".dropdown.open").forEach(e=>{e.classList.remove("open");const r=o(".dropdown-button",e);r&&r.setAttribute("aria-expanded","false")})})});document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector(".header__burger"),s=document.getElementById("header-menu"),o=document.getElementById("header-menu-close"),c=document.getElementById("header-menu-overlay");function n(){s.classList.add("header__menu--active"),c.classList.add("header__menu-overlay--active"),document.body.style.overflow="hidden"}function i(){s.classList.remove("header__menu--active"),c.classList.remove("header__menu-overlay--active"),document.body.style.overflow=""}p.addEventListener("click",n),o.addEventListener("click",i),c.addEventListener("click",i)});(function(){const p=document.getElementById("productsContainer")||document.querySelector(".products__list");if(!p)return;let s=document.getElementById("btnGrid"),o=document.getElementById("btnList");window.btnGrid||(window.btnGrid=s),window.btnList||(window.btnList=o);function c(d){s&&s.classList.toggle("active",d==="grid"),s&&s.setAttribute("aria-pressed",d==="grid"?"true":"false"),o&&o.classList.toggle("active",d==="list"),o&&o.setAttribute("aria-pressed",d==="list"?"true":"false")}function n(d){d?p.classList.add("list-view"):p.classList.remove("list-view")}function i(d){typeof setLayout=="function"&&setLayout("list"),n(!0),c("list"),localStorage.setItem("preferredView","list")}function v(d){typeof setLayout=="function"&&setLayout("grid"),n(!1),c("grid"),localStorage.setItem("preferredView","grid")}o&&o.addEventListener("click",i),s&&s.addEventListener("click",v),(function(){const m=localStorage.getItem("preferredView");m==="list"?(n(!0),c("list")):m==="grid"?(n(!1),c("grid")):o&&o.classList.contains("active")?(n(!0),c("list")):(s&&s.classList.contains("active"),n(!1),c("grid"))})();const u={attributes:!0,attributeFilter:["class","aria-pressed"]},f=d=>{d.forEach(m=>{const g=m.target;g===o&&o.classList.contains("active")&&(n(!0),localStorage.setItem("preferredView","list")),g===s&&s.classList.contains("active")&&(n(!1),localStorage.setItem("preferredView","grid"))})},y=new MutationObserver(f);o&&y.observe(o,u),s&&y.observe(s,u)})();(function(){const p=document.getElementById("productsContainer")||document.querySelector(".products__list");if(!p)return;function s(u){return!u&&u!==""?"":String(u).replace(/\u00A0/g," ").replace(/\s+/g," ").trim()}function o(u){const f=document.createElement("textarea");return f.innerHTML=u,f.value}function c(){Array.from(p.querySelectorAll(".product")).forEach((u,f)=>{if(u.querySelector(".product__desc"))return;const y=u.querySelector(".product__title");let d="";if(y){const m=s(o(y.textContent||y.innerText||"")),g=products.find(w=>s(String(w.title))===m||s(o(String(w.title||"")))===m);g&&g.description&&(d=g.description)}if(!d&&products[f]&&products[f].description&&(d=products[f].description),d){const m=u.querySelector(".product__info")||u,g=document.createElement("div");g.className="product__desc",g.textContent=d;const w=m.querySelector(".product__bottom"),E=m.querySelector(".product__price");w?m.insertBefore(g,w):E?m.insertBefore(g,E.nextSibling):m.appendChild(g)}}),n()}function n(){const u=p.classList.contains("list-view");p.querySelectorAll(".product__desc").forEach(f=>{f.style.display=u?"":"none"})}setTimeout(c,20),new MutationObserver(u=>{let f=!1;for(const y of u)if(y.addedNodes&&y.addedNodes.length){f=!0;break}f&&setTimeout(c,10)}).observe(p,{childList:!0}),new MutationObserver(n).observe(p,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("load",n)})();new Swiper(".mySwiper",{spaceBetween:30,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});(function(){const p=document.getElementById("pp-track"),s=Array.from(p.children),o=document.querySelector(".pp-dots"),c=document.querySelector(".pp-prev"),n=document.querySelector(".pp-next");let i=0;s.forEach((d,m)=>{const g=document.createElement("button");g.className="dot"+(m===0?" is-active":""),g.setAttribute("aria-label","Slide "+(m+1)),g.addEventListener("click",()=>u(m)),o.appendChild(g)});const v=Array.from(o.children);function u(d){i=Math.max(0,Math.min(s.length-1,d)),s[i].scrollIntoView({behavior:"smooth",inline:"center"}),f()}function f(){v.forEach(d=>d.classList.remove("is-active")),v[i]?.classList.add("is-active")}c.addEventListener("click",()=>u(i-1)),n.addEventListener("click",()=>u(i+1));function y(){const d=p.scrollLeft+p.clientWidth/2;let m=0,g=1/0;s.forEach((w,E)=>{const A=w.offsetLeft+w.clientWidth/2,C=Math.abs(A-d);C<g&&(g=C,m=E)}),m!==i&&(i=m,f())}p.addEventListener("scroll",()=>{clearTimeout(p._t),p._t=setTimeout(y,80)}),window.addEventListener("resize",y),s.forEach((d,m)=>{d.style.cursor="pointer",d.addEventListener("click",()=>{u(m===i?Math.min(s.length-1,m+1):m)})}),s[0].scrollIntoView({behavior:"auto",inline:"center"}),i=0,f()})();document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector(".header__burger"),s=document.getElementById("header-menu"),o=document.getElementById("header-menu-close"),c=document.getElementById("header-menu-overlay");function n(){s.classList.add("header__menu--active"),c.classList.add("header__menu-overlay--active"),document.body.style.overflow="hidden"}function i(){s.classList.remove("header__menu--active"),c.classList.remove("header__menu-overlay--active"),document.body.style.overflow=""}p.addEventListener("click",n),o.addEventListener("click",i),c.addEventListener("click",i)});document.addEventListener("DOMContentLoaded",()=>{const p=Array.from(document.querySelectorAll(".pp-slide")),s=document.querySelector(".pp-prev"),o=document.querySelector(".pp-next");function c(v){p.forEach((u,f)=>{u.style.display=v.includes(f)?"":"none"})}function n(){return window.innerWidth<=600?[0]:window.innerWidth<=1e3?[0,1]:[0,1,2]}let i=n();c(i),window.addEventListener("resize",()=>{i=n(),c(i)}),s.addEventListener("click",()=>{window.innerWidth>1e3||(window.innerWidth<=600?i[0]>0&&(i=[i[0]-1],c(i)):i[0]>0&&(i=[i[0]-1,i[0]],c(i)))}),o.addEventListener("click",()=>{window.innerWidth>1e3||(window.innerWidth<=600?i[0]<p.length-1&&(i=[i[0]+1],c(i)):i[1]<p.length-1&&(i=[i[1],i[1]+1],c(i)))})});
